# 150道高频常问Java体系面试问题

**Java集合22题**

1. ArrayList 和 Vector 的区别。
2. 说说 ArrayList,Vector, LinkedList 的存储性能和特性。
3. 快速失败 (fail-fast) 和安全失败 (fail-safe) 的区别是什么？
4. hashmap 的数据结构。
5. HashMap 的工作原理是什么?
6. Hashmap 什么时候进行扩容呢？
7. List、Map、Set 三个接口，存取元素时，各有什么特点？
8. Set 里的元素是不能重复的，那么用什么方法来区分重复与否呢? 是用 == 还是 equals()? 它们有何区别?
9. 两个对象值相同 (x.equals(y) == true)，但却可有不同的 hash code，这句话对不对?
10. heap 和 stack 有什么区别。
11. Java 集合类框架的基本接口有哪些？
12. HashSet 和 TreeSet 有什么区别？
13. HashSet 的底层实现是什么?
14. LinkedHashMap 的实现原理?
15. 为什么集合类没有实现 Cloneable 和 Serializable 接口？
16. 什么是迭代器 (Iterator)？
17. Iterator 和 ListIterator 的区别是什么？
18. 数组 (Array) 和列表 (ArrayList) 有什么区别？什么时候应该使用 Array 而不是 ArrayList？
19. Java 集合类框架的最佳实践有哪些？
20. Set 里的元素是不能重复的，那么用什么方法来区分重复与否呢？是用 == 还是 equals()？它们有何区别？
21. Comparable 和 Comparator 接口是干什么的？列出它们的区别
22. Collection 和 Collections 的区别。

**JVM与调优21题**

1. Java 类加载过程？
2. 描述一下 JVM 加载 Class 文件的原理机制?
3. Java 内存分配。
4. GC 是什么? 为什么要有 GC？
5. 简述 Java 垃圾回收机制
6. 如何判断一个对象是否存活？（或者 GC 对象的判定方法）
7. 垃圾回收的优点和原理。并考虑 2 种回收机制
8. 垃圾回收器的基本原理是什么？垃圾回收器可以马上回收内存吗？有什么办法主动通知虚拟机进行垃圾回收？
9. Java 中会存在内存泄漏吗，请简单描述
10. 深拷贝和浅拷贝。
11. System.gc() 和 Runtime.gc() 会做什么事情？
12. finalize() 方法什么时候被调用？析构函数 (finalization) 的目的是什么？
13. 如果对象的引用被置为 null，垃圾收集器是否会立即释放对象占用的内存？
14. 什么是分布式垃圾回收（DGC）？它是如何工作的？
15. 串行（serial）收集器和吞吐量（throughput）收集器的区别是什么？
16. 在 Java 中，对象什么时候可以被垃圾回收？
17. 简述 Java 内存分配与回收策率以及 Minor GC 和 Major GC。
18. JVM 的永久代中会发生垃圾回收么？
19. Java 中垃圾收集的方法有哪些？
20. 什么是类加载器，类加载器有哪些？
21. 类加载器双亲委派模型机制？

**并发编程28题**

1. Synchronized 用过吗，其原理是什么？
2. 你刚才提到获取对象的锁，这个“锁”到底是什么？如何确定对象的锁？
3. 什么是可重入性，为什么说 Synchronized 是可重入锁？
4. JVM 对 Java 的原生锁做了哪些优化？48
5. 为什么说 Synchronized 是非公平锁？49
6. 什么是锁消除和锁粗化？49
7. 为什么说 Synchronized 是一个悲观锁？乐观锁的实现原理又是什么？什么是 CAS，它有什么特性？
8. 乐观锁一定就是好的吗？
9. 跟 Synchronized 相比，可重入锁 ReentrantLock 其实现原理有什么不同？
10. 那么请谈谈 AQS 框架是怎么回事儿？
11. 请尽可能详尽地对比下 Synchronized 和 ReentrantLock 的异同。
12. ReentrantLock 是如何实现可重入性的？
13. 除了 ReetrantLock，你还接触过 JUC 中的哪些并发工具？
14. 请谈谈 ReadWriteLock 和 StampedLock。
15. 如何让 Java 的线程彼此同步？你了解过哪些同步器？请分别介绍下。
16. CyclicBarrier 和 CountDownLatch 看起来很相似，请对比下呢？
17. Java 线程池相关问题
18. Java 中的线程池是如何实现的？
19. 创建线程池的几个核心构造参数？
20. 线程池中的线程是怎么创建的？是一开始就随着线程池的启动创建好的吗？
21. 既然提到可以通过配置不同参数创建出不同的线程池，那么 Java 中默认实现好的线程池又有哪些呢？请比较它们的异同
22. 如何在 Java 线程池中提交线程？
23. 什么是 Java 的内存模型，Java 中各个线程是怎么彼此看到对方的变量的？
24. 请谈谈 volatile 有什么特点，为什么它能保证变量对所有线程的可见性？
25. 既然 volatile 能够保证线程间的变量可见性，是不是就意味着基于 volatile 变量的运算就是并发安全的？
26. 请对比下 volatile 对比 Synchronized 的异同。
27. 请谈谈 ThreadLocal 是怎么解决并发安全的？
28. 很多人都说要慎用 ThreadLocal，谈谈你的理解，使用 ThreadLocal 需要注意些什么？

**spring面试专题**

- 1、什么是 Spring 框架？Spring 框架有哪些主要模块？
- 2、使用 Spring 框架能带来哪些好处？
- 3、什么是控制反转(IOC)？什么是依赖注入？
- 4、请解释下 Spring 框架中的 IoC？
- 5、BeanFactory 和 ApplicationContext 有什么区别？
- 6、Spring 有几种配置方式？
- 7、如何用基于 XML 配置的方式配置 Spring？
- 8、如何用基于 Java 配置的方式配置 Spring？
- 9、怎样用注解的方式配置 Spring？
- 10、请解释 Spring Bean 的生命周期？
- 11、Spring Bean 的作用域之间有什么区别？
- 12、什么是 Spring inner beans？
- 13、Spring 框架中的单例 Beans 是线程安全的么？
- 14、请举例说明如何在 Spring 中注入一个 Java Collection？
- 15、如何向 Spring Bean 中注入一个 Java.util.Properties？
- 16、请解释 Spring Bean 的自动装配？
- 17、请解释自动装配模式的区别？
- 18、如何开启基于注解的自动装配？
- 19、请举例解释@Required 注解？
- 20、请举例解释@Autowired 注解？
- 21、请举例说明@Qualifier 注解？
- 22、构造方法注入和设值注入有什么区别？
- 23、Spring 框架中有哪些不同类型的事件？
- 24、FileSystemResource 和 ClassPathResource 有何区别？
- 25、Spring 框架中都用到了哪些设计模式？

**设计模式**

- 1.请列举出在 JDK 中几个常用的设计模式？
- 2.什么是设计模式？你是否在你的代码里面使用过任何设计模式？
- 3.Java 中什么叫单例设计模式？请用 Java 写出线程安全的单例模式
- 4.在 Java 中，什么叫观察者设计模式（observer design pattern）？
- 5.使用工厂模式最主要的好处是什么？在哪里使用？
- 6.举一个用 Java 实现的装饰模式(decorator design pattern)？它是作用于对象层次还是类
- 层次？
- 7.在 Java 中，为什么不允许从静态方法中访问非静态变量？
- 8.设计一个 ATM 机，请说出你的设计思路？
- 9.在 Java 中，什么时候用重载，什么时候用重写？
- 10.举例说明什么情况下会更倾向于使用抽象类而不是接口

**springboot面试专题**

1. 什么是 Spring Boot？
2. Spring Boot 有哪些优点？
3. 什么是 JavaConfig？
4. 如何重新加载 Spring Boot 上的更改，而无需重新启动服务器？
5. Spring Boot 中的监视器是什么？
6. 如何在 Spring Boot 中禁用 Actuator 端点安全性？
7. 如何在自定义端口上运行 Spring Boot 应用程序？
8. 什么是 YAML？
9. 如何实现 Spring Boot 应用程序的安全性？
10. 如何集成 Spring Boot 和 ActiveMQ？
11. 如何使用 Spring Boot 实现分页和排序？
12. 什么是 Swagger？你用 Spring Boot 实现了它吗？
13. 什么是 Spring Profiles？
14. 什么是 Spring Batch？
15. 什么是 FreeMarker 模板？
16. 如何使用 Spring Boot 实现异常处理？
17. 您使用了哪些 starter maven 依赖项？
18. 什么是 CSRF 攻击？
19. 什么是 WebSockets？
20. 什么是 AOP？
21. 什么是 Apache Kafka？
22. 我们如何监视所有 Spring Boot 微服务？

**Netty10题**

1. BIO、NIO和AIO的区别？
2. NIO的组成？
3. Netty的特点？
4. Netty的线程模型？
5. TCP 粘包/拆包的原因及解决方法？
6. 了解哪几种序列化协议？
7. 如何选择序列化协议？
8. Netty的零拷贝实现？
9. Netty的高性能表现在哪些方面？
10. NIOEventLoopGroup源码？

**Redis**

1. 什么是redis?
2. Reids的特点
3. Redis支持的数据类型
4. Redis是单进程单线程的
5. 虚拟内存
6. Redis锁
7. 读写分离模型
8. 数据分片模型
9. Redis的回收策略
10. 使用Redis有哪些好处？
11. redis相比memcached有哪些优势？4
12. redis常见性能问题和解决方案
13. MySQL里有2000w数据，redis中只存20w的数据，如何保证redis中的数据都是热点数据245
14. Memcache与Redis的区别都有哪些？
15. Redis 常见的性能问题都有哪些？如何解决？
16. Redis 最适合的场景





## Java基础



1. 实例方法和静态方法有什么不一样?

1. Java中的异常有哪几类?分别怎么使用?

1. 常用的集合类有哪些?比如List如何排序? 

1. ArrayList和LinkedList内部的实现大致是怎样的?他们之间的区别和各自适应的场景是什么?

1. 内存溢出是怎么回事?

1. ClassLoader有什么用?

1. ==和equals的区别?

1. hashCode方法的作用?

1. Object类中有哪些方法?列举3个以上。

1. NIO是什么?适用于何种场景?

1. HashMap数据结构、扩展策略,Hash冲突攻击如何防范,如何实现线程安全的HashMap?

1. JVM内存结构,GC算法,CMS、G1的原理

1. NIO模型,select/epoll的区别,多路复用的原理

1. Java中一个字符占多少个字节,扩展再问int, long, double占多少字节

1. 创建一个类的实例都有哪些办法?

1. final/finally/finalize的区别?

1. LinkingBlockingQueue与ArrayBlockingQueue的区别,他们的适用场景?

1. Session/Cookine的区别?

1. String/StringBuffer/StringBuilder的区别,扩展再问他们的实现?

1. Servlet的生命周期?

1. 如何用Java分配一段连续的1G的内存空间?需要注意些什么?

1. Java有自己的内存回收机制,但为什么还存在内存泄露的问题呢?

1. Java里面用对象作为Key需要注意些什么? 如何实现hashcode?

## JVM

1. JVM堆的基本结构。

1. JVM的垃圾算法有哪几种?CMS收集算法的流程?

1. JVM有哪些常用启动参数可以调整?

1. 如何查看JVM的内存使用情况?

1. Java程序是否会内存溢出?

1. 你常用的JVM配置和调优参数都有哪些?分别什么作用? 7. Java内存分代模型,GC算法,JVM常见的启动数;CM算法的过程,CMS回收过程中JVM是否需要暂停(这块回答较好,也可以只是 看毕玄的Java分布式开发网上文章的学习, 可以结合JVM启动参数常见配置, jstat等命令,看下动手能力,意愿;以及实际线上问题排查)

1. 什么情况下会出现OOM(堆内存,永久区,堆外区,方法栈)

1. Java内存结构(堆结构,新生代[S0/S1/Elden],年老代,持久代)

1. 常用的GC策略,什么时候会触发YGC,什么时候触发FGC

## 数据结构与算法基础

1. 说一下几种常见的排序算法和分别的复杂度。

1. 什么是跳表?

1. 如何确认一个链表有环?进一步,确认环的位置。

1. 如何遍历一棵二叉树?

1. 倒排一个LinkedList。

1. HashSet的实现方式



## 多线程/并发



1. Java中常见的锁,互斥锁,读写锁,信号量

1. 原子Atomic类,如何保证原子性,CAS硬件指令

1. volatile,可见性问题的原因,硬件架构,L3 Cache,QPI,乐观锁

1. 如何实现一个线程安全的数据结构

1. Synchronized关键字的作用?

1. Volatile关键字的作用?

1. Java内存模型是怎样的?

1. HashMap在多线程环境下使用需要注意什么?为什么?

1. Java程序中启动一个线程是用run()还是start()?

1. 什么是守护线程?有什么用?

1. 什么是死锁?如何避免

1. 线程和进程的差别是什么?

1. Java里面的Threadlocal是怎样实现的?

1. ConcurrentHashMap的实现原理是?

1. sleep和wait区别

1. notify和notifyAll区别

1. volatile关键字的作用

1. ThreadLocal的作用与实现

1. 两个线程如何串行执行

1. 上下文切换是什么含义

1. 可以运行时kill掉一个线程吗?

1. 什么是条件锁、读写锁、自旋锁、可重入锁?

1. 什么是协程(用户态线程,减少数据拷贝,降低CPU开销,无callback函数)?

1. 线程池ThreadPoolExecutor的实现原理?

1. J.U.C下的常见类的使用。lock, synchronized, ThreadPool的深入考察; BlockingQueue的使用。(take,poll的区别,put,offer的区别);原子类的实现。

1. 各种常见锁使用如果上面这些掌握很好,还可以看看更深一点的 False Sharing,Cache Line,可见性与原子性等;



## Linux使用与问题分析排查

1. 硬链接和软链接的区别?

1. inode是什么?

1. Linux常用命令有哪些?

1. 怎么看一个Java线程的资源耗用?

1. Load过高的可能性有哪些?

1. /etc/hosts文件什么做用?

1. /etc/resolv.conf文件什么作用?

1. 如何快速的将一个文本中所有“abc”替换为“xyz”?

1. 你常用的Linux下用来进行网络和磁盘IO分析的工具有哪些?

1. 你常用的Linux下用来进行内存和CPU分析的工具有哪些?

1. 发现磁盘空间不够,如何快速找出占用空间最大的文件?

1. Java服务端问题排查(OOM,CPU高,Load高,类冲突)

1. Java常用问题排查工具及用法
   (top, iostat, vmstat, sar, tcpdump, jvisualvm, jmap, jconsole)

1. Thread dump文件如何分析(Runnable,锁,代码栈,操作系统线程ID关联)

1. grep,awk,sed; 是否自己写过shell脚本;

1. 常见的cpu load过高,us过高,一般是什么问题。引申出是否用过top,jstat,jstack等。

1. 常见的内存问题一般有哪些。 引申出是否用过free,top, jmap等。

## 框架使用

1. Spring中Bean的生命周期。

https://www.cnblogs.com/zrtqsk/p/3735273.html

1. SpringMVC或Struts处理请求的流程。

1. Spring AOP解决了什么问题?怎么实现的?aop与cglib,与asm的关系。 4. Spring事务的传播属性是怎么回事?它会影响什么?

1. Spring中BeanFactory和FactoryBean有什么区别?

1. Spring框架中IOC的原理是什么?

1. spring的依赖注入有哪几种方式

1. struts工作流程

1. 用Spring如何实现一个切面?Spring 如何实现数据库事务?

1. Hibernate和Ibatis这类ORM框架的区别?什么是ORM,解决的痛点是什么?

1. spriong ioc的生命周期,(init-method,intilizingbean接口方法afterPropertiesSet的先后顺序)等。

1. Hibernate对一二级缓存的使用,Lazy-Load的理解;

1. Spring IoC AOP自己用代码如何实现

1. RPC的负载均衡、服务发现怎么做的

1. 几种推送模型的区别,long polling,websocket

## 数据库相关

1. MySQL InnoDB的特点?

1. 乐观锁和悲观锁的区别?

```
悲观锁（Pessimistic Lock）
悲观锁的特点是先获取锁，再进行业务操作，即“悲观”的认为获取锁是非常有可能失败的，因此要先确保获取锁成功再进行业务操作。
通常所说的“一锁二查三更新”即指的是使用悲观锁。


乐观锁（Optimistic Lock）
乐观锁的特点先进行业务操作，不到万不得已不去拿锁。
即“乐观”的认为拿锁多半是会成功的，因此在进行完业务操作需要实际更新数据的最后一步再去拿一下锁就好。

乐观锁在数据库上的实现完全是逻辑的，不需要数据库提供特殊的支持。
一般的做法是在需要锁的数据上增加一个版本号，或者时间戳，然后按照如下方式实现：

1. SELECT data AS old_data, version AS old_version FROM …;
2. 根据获取的数据进行业务操作，得到new_data和new_version
3. UPDATE SET data = new_data, version = new_version WHERE version = old_version
if (updated row > 0) {
    // 乐观锁获取成功，操作完成
} else {
    // 乐观锁获取失败，回滚并重试
}

乐观锁是否在事务中其实都是无所谓的，
其底层机制是这样：在数据库内部update同一行的时候是不允许并发的，
即数据库每次执行一条update语句时会获取被update行的写锁，直到这一行被成功更新后才释放。
因此在业务操作进行前获取需要锁的数据的当前版本号，然后实际更新数据时再次对比版本号确认与之前获取的相同，并更新版本号，即可确认这之间没有发生并发的修改。
如果更新失败即可认为老版本的数据已经被并发修改掉而不存在了，此时认为获取锁失败，需要回滚整个业务操作并可根据需要重试整个过程。
```

1. 数据库隔离级别是什么?有什么作用?

1. MySQL主备同步的基本原理。

1. 如何从一张表中查出name字段包含“XYZ”的所有行?

1. 索引数据结构(字典+BitTree)

1. 如何优化数据库性能(索引、分库分表、批量操作、分页算法、升级硬盘SSD、业务优化、主从部署)

1. SQL什么情况下不会使用索引(不包含,不等于,函数)

1. 一般在什么字段上建索引(过滤数据最多的字段)

1. 如何从一张表中查出name字段不包含“XYZ”的所有行?

1. MySQL,B+索引实现,行锁实现,SQL优化

1. Redis,RDB和AOF,如何做高可用、集群

1. 如何解决高并发减库存问题

1. mysql存储引擎中索引的实现机制;

1. 数据库事务的几种粒度;

1. 行锁,表锁;乐观锁,悲观锁

## 网络协议和网络编程

1. TCP建立连接的过程。

1. TCP断开连接的过程。

1. 浏览器发生302跳转背后的逻辑?

1. HTTP协议的交互流程。HTTP和HTTPS的差异,SSL的交互流程?

1. Rest和Http什么关系? 大家都说Rest很轻量,你对Rest风格如何理解? 6. TCP的滑动窗口协议有什么用?讲讲原理。

1. HTTP协议都有哪些方法?

1. 交换机和路由器的区别?

1. http协议(报文结构,断点续传,多线程下载,什么是长连接) 12. tcp协议(建连过程,慢启动,滑动窗口,七层模型)

1. webservice协议(wsdl/soap格式,与rest协议的区别)

1. spdy/http2.0协议是否有了解

1. NIO的好处,Netty线程模型,什么是零拷贝
   redis等缓存系统/中间件/NoSQL/一致性Hash等

1. 列举一个常用的Redis客户端的并发模型。

1. HBase如何实现模糊查询?

1. 列举一个常用的消息中间件,如果消息要保序如何实现?

1. 如何实现一个Hashtable?你的设计如何考虑Hash冲突?如何优化? 5. 分布式缓存,一致性hash

1. LRU算法,slab分配,如何减少内存碎片

1. 如何解决缓存单机热点问题

1. 什么是布隆过滤器,其实现原理是? False positive指的是?

1. memcache与redis的区别

1. zookeeper有什么功能,选举算法如何进行

1. map/reduce过程,如何用map/reduce实现两个数据源的联合统计

## 设计模式与重构

1. 你在设计一个工厂的包的时候会遵循哪些原则?

1. 你能列举一个使用了Visitor/Decorator模式的开源项目/库吗?

1. 你在编码时最常用的设计模式有哪些?在什么场景下用?

1. 如何实现一个单例?

1. 代理模式(动态代理)

1. 单例模式(懒汉模式,恶汉模式,并发初始化如何解决,volatile与lock的使用) 7. JDK源码里面都有些什么让你印象深刻的设计模式使用,举例看看?

1. Reactor模式

## 学习与进取心

1. 平时会关注哪些技术?

1. 会看那些技术博客和网站?

1. 技术上有没有偶像?

1. 看过哪些技术书籍?

1. 你平常都看些什么书?你去年和今年看的书中印象最深的基本技术书籍和非技术书
   籍是?

1. (如果不看书)你平常都上哪些技术论坛?最喜欢哪个?为什么?

1. 项目或产品中用到了什么新技术或框架

1. 最近研究过什么业界流行的技术或框架

1. 对现在所做的项目或产品的缺陷是否了解,有何规划

1. 是否有带过项目,如何管理项目

1. 是否有带过团队,团队管理最大的挑战点是什么

## 抗压能力及抗压意愿

1. 刚才你说的XXX实现跟那个开源的YYY很像,是不是抄来的? 2. 对加班怎么看?

1. 平台是否有加班,是主动还是被动,是否非常抗拒

1. 是否有负责多件事情,多件事情如何并行处理

1. 你对你最近负责项目中最自豪的点是什么? 稳定性考察

1. 了解家庭婚姻状况, 了解购房及居住地,籍贯情况,了解目前薪资,评估稳定性 2. 如果让你接手一个历史悠久的模块,你会怎么做?

1. 看简历跳槽情况,针对性发问,如跳槽频繁的话问清楚为什么



## 开放性问题

1. 一个大文件4G,里面一行行的数字,这时内存只有256M,如果做排序?

1. 如果你部署的应用所在机器硬盘坏了,会发生什么?你的程序要如何处理这种异
   常?(分布式系统中故障是一种常态,设计要避免单点故障,能容错,保证系统高
   可用)

1. 实现一个消息队列系统

1. 如何设计一个高可用的架构

1. 多次Hash来解决URL重复访问问题。

1. 全局唯一ID问题。

1. 秒杀如何设计。

1. 如何进行性能优化。

1. 发现CPU 100%,如何排查?

1. 实现一个分布式打点系统。

1. taobao.com和tmall.com的互相登录的问题。

1. 如何快速对一个2亿数据的List进行排序?

1. 集群环境设计用户A每天新增积分2分。



## 笔试题目

1、给定一个String字符串，打印出所有的子串（subString）

2、从一个文件A中读取100W的数字，从中找出最大的100个数字写入文件B；

3、有三个线程的ID分别是A、B、C,请用多线编程实现，在屏幕上循环打印10次ABCABC

4、要求自行设计LinkedQueue数据结构，不要外部类库和辅助函数来处理

5、运用多线程模拟多个客户同时到银行存取钱；